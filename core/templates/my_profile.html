<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User - My Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body { background: linear-gradient(135deg, #004e92, #000428); color: white; min-height: 100vh; }
        .sidebar { width: 250px; height: 100vh; position: fixed; background: rgba(0,0,0,0.2); backdrop-filter: blur(10px); }
        .nav-link { color: #ffffffb3; padding: 12px 25px; }
        .nav-link.active { background: rgba(255,255,255,0.1); color: white; border-left: 4px solid white; }
        
        .main-content { margin-left: 250px; padding: 50px; }
        .profile-card { background: rgba(255,255,255,0.1); border-radius: 15px; overflow: hidden; max-width: 800px; margin: auto; }
        
        /* Banner and Overlapping Image matching image_5384d7.jpg */
        .banner { height: 200px; background: linear-gradient(to right, #ff00cc, #3333ff, #00dbde); position: relative; }
        .profile-pic-container { position: absolute; bottom: -60px; left: 50px; }
        .profile-pic { width: 150px; height: 150px; border-radius: 50%; border: 5px solid white; object-fit: cover; background: #222; }
        
        .profile-body { padding: 80px 50px 50px; }
        .info-row { display: flex; align-items: center; margin-bottom: 20px; }
        .info-label { width: 150px; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; color: #ffffffb3; }
        .info-value { flex-grow: 1; background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 5px; font-weight: 500; }
    </style>
</head>
<body>

    <div class="sidebar">
        <nav class="nav flex-column">
            <div class="p-4 small fw-bold text-uppercase opacity-50">Main Navigation</div>
            <a class="nav-link {% if request.resolver_match.url_name == 'user_dashboard' %}active{% endif %}" href="{% url 'user_dashboard' %}">
                <i class="bi bi-grid me-2"></i> Dashboard
            </a>
            <a class="nav-link" href="#"><i class="bi bi-chat-dots me-2"></i> Chatbot</a>

            <div class="p-4 small fw-bold text-uppercase opacity-50 mt-3">Account</div>
            <a class="nav-link {% if request.resolver_match.url_name == 'my_profile' %}active{% endif %}" href="{% url 'my_profile' %}">
                <i class="bi bi-person me-2"></i> My Profile
            </a>
            <a class="nav-link {% if request.resolver_match.url_name == 'edit_profile' %}active{% endif %}" href="{% url 'edit_profile' %}">
                <i class="bi bi-pencil me-2"></i> Edit Profile
            </a>
            <a class="nav-link {% if request.resolver_match.url_name == 'change_password' %}active{% endif %}" href="{% url 'change_password' %}">
                <i class="bi bi-lock me-2"></i> Change Password
            </a>

            <div class="p-4 small fw-bold text-uppercase opacity-50 mt-3">General</div>
            <a class="nav-link" href="{% url 'crop_details' %}"><i class="bi bi-credit-card-2-front me-2"></i> Crop Details</a>
            <a class="nav-link" href="#"><i class="bi bi-gift me-2"></i> Fertilizer Details</a>
            <a class="nav-link" href="#"><i class="bi bi-card-text me-2"></i> Feedback</a>
            
            <a class="nav-link mt-auto" href="{% url 'logout' %}">
                <i class="bi bi-box-arrow-right me-2"></i> Logout
            </a>
        </nav>
    </div>

    <div class="main-content">
        <div class="profile-card">
            <div class="banner">
                <div class="profile-pic-container">
                    {% if profile.picture %}
                        <img src="{{ profile.picture.url }}" class="profile-pic">
                    {% else %}
                        <div class="profile-pic d-flex align-items-center justify-content-center bg-dark">
                            <i class="bi bi-person text-white fs-1"></i>
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <div class="profile-body">
                <h3 class="mb-5">My Profile</h3>
                
                <div class="info-row">
                    <div class="info-label">Full Name</div>
                    <div class="info-value">{{ profile.fullname }}</div>
                </div>
                <div class="info-row">
                    <div class="info-label">User Name</div>
                    <div class="info-value">{{ profile.user.username }}</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Email</div>
                    <div class="info-value">{{ profile.user.email }}</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Contact</div>
                    <div class="info-value">{{ profile.contact }}</div>
                </div>
                <div class="info-row">
                    <div class="info-label">City</div>
                    <div class="info-value">{{ profile.city }}</div>
                </div>
                <div class="info-row">
                    <div class="info-label">State</div>
                    <div class="info-value">{{ profile.state }}</div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>